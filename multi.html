<!DOCTYPE html>
<html lang="en">

<head>
    <title>Shaka Game - Multiplayer</title>
    <link rel="icon" href="/favicon.ico">
    <link rel="stylesheet" href="/src/styles/index.css">
    <link rel="stylesheet" href="/src/styles/shaka.css">
    <link rel="stylesheet" href="/src/styles/multiplayer-tailwind.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body class="dark-theme">
    <div id="container">
        <h2 id="Game-title"><span id="one">Shaka</span> <span id="two">Multiplayer</span></h2>

        <!-- Connection Status Indicator -->
        <div id="connection-status" class="connection-status mx-auto my-4 w-fit">
            <span class="status-dot status-connecting"></span>
            <span class="text-sm font-medium text-slate-300">Connecting...</span>
            <button id="reconnect-btn" class="btn-secondary text-xs px-3 py-1 ml-2 hidden">Reconnect</button>
        </div>

        <!-- Multiplayer Menu -->
        <div id="multiplayer-menu" class="max-w-2xl mx-auto mt-8 p-12 card animate-fade-in-up">
            <div class="text-center">
                <div class="card-header">
                    <h3 class="card-title">Join or Create a Room</h3>
                </div>
                <div class="space-y-4 max-w-md mx-auto">
                    <button id="create-room-btn" class="btn-menu w-full bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800">
                        <span class="text-xl">üè†</span>
                        Create Room
                    </button>
                    <button id="join-room-btn" class="btn-menu w-full bg-gradient-to-r from-secondary-600 to-secondary-700 hover:from-secondary-700 hover:to-secondary-800">
                        <span class="text-xl">üö™</span>
                        Join Room
                    </button>
                    <a href="/" class="btn-menu w-full">
                        <span class="text-xl">‚Ü©Ô∏è</span>
                        Back to Main Menu
                    </a>
                </div>
            </div>
        </div>

        <!-- Create Room Form -->
        <div id="create-room-form" class="fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in" style="display: none;">
            <div class="card w-full max-w-2xl max-h-[90vh] overflow-y-auto p-8 animate-slide-in">
                <div class="card-header">
                    <h3 class="card-title">Create a Room</h3>
                </div>
                <form id="create-room-form-element" class="space-y-6">
                    <div class="form-group">
                        <label for="player-name" class="input-label">Your Name</label>
                        <input type="text" id="player-name" class="input-field" placeholder="Enter your name" required minlength="3" maxlength="20">
                    </div>
                    <div class="form-group">
                        <label for="max-players" class="input-label">Maximum Players (2-10)</label>
                        <select id="max-players" class="input-field">
                            <option value="2">2 Players</option>
                            <option value="3">3 Players</option>
                            <option value="4" selected>4 Players</option>
                            <option value="5">5 Players</option>
                            <option value="6">6 Players</option>
                            <option value="7">7 Players</option>
                            <option value="8">8 Players</option>
                            <option value="9">9 Players</option>
                            <option value="10">10 Players</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <div class="border border-slate-600 rounded-xl p-6 bg-slate-800/30">
                            <h4 class="flex items-center gap-2 text-lg font-semibold text-white mb-4">
                                <span class="text-xl">üéÆ</span>
                                Controls
                            </h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-4">
                                <div class="control-input">
                                    <label for="control-up">Up</label>
                                    <input type="text" id="control-up" value="ArrowUp" readonly>
                                </div>
                                <div class="control-input">
                                    <label for="control-right">Right</label>
                                    <input type="text" id="control-right" value="ArrowRight" readonly>
                                </div>
                                <div class="control-input">
                                    <label for="control-down">Down</label>
                                    <input type="text" id="control-down" value="ArrowDown" readonly>
                                </div>
                                <div class="control-input">
                                    <label for="control-left">Left</label>
                                    <input type="text" id="control-left" value="ArrowLeft" readonly>
                                </div>
                                <div class="control-input md:col-span-2">
                                    <label for="control-confirm">Confirm</label>
                                    <input type="text" id="control-confirm" value="Enter" readonly>
                                </div>
                            </div>
                            <button type="button" id="customize-controls-btn" class="w-full bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-700 hover:to-amber-800 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-200 hover:-translate-y-0.5 hover:shadow-lg">
                                <span class="text-lg mr-2">‚öôÔ∏è</span>
                                Customize Controls
                            </button>
                        </div>
                    </div>
                    <div class="flex gap-4 pt-4">
                        <button type="submit" class="btn-primary flex-1">
                            <span class="text-lg">‚ú®</span>
                            Create Room
                        </button>
                        <button type="button" class="btn-outline flex-1">
                            <span class="text-lg">‚ùå</span>
                            Cancel
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Join Room Form -->
        <div id="join-room-form" class="fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in" style="display: none;">
            <div class="card w-full max-w-2xl max-h-[90vh] overflow-y-auto p-8 animate-slide-in">
                <div class="card-header">
                    <h3 class="card-title">Join a Room</h3>
                </div>
                <form id="join-room-form-element" class="space-y-6">
                    <div class="form-group">
                        <label for="join-player-name" class="input-label">Your Name</label>
                        <input type="text" id="join-player-name" class="input-field" placeholder="Enter your name" required minlength="3" maxlength="20">
                    </div>
                    <div class="form-group">
                        <label for="room-code" class="input-label">Room Code</label>
                        <input type="text" id="room-code" class="input-field text-center font-mono text-xl tracking-widest uppercase" placeholder="ABCDEF" required minlength="6" maxlength="6">
                    </div>
                    <div class="form-group">
                        <div class="border border-slate-600 rounded-xl p-6 bg-slate-800/30">
                            <h4 class="flex items-center gap-2 text-lg font-semibold text-white mb-4">
                                <span class="text-xl">üéÆ</span>
                                Controls
                            </h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-4">
                                <div class="control-input">
                                    <label for="join-control-up">Up</label>
                                    <input type="text" id="join-control-up" value="ArrowUp" readonly>
                                </div>
                                <div class="control-input">
                                    <label for="join-control-right">Right</label>
                                    <input type="text" id="join-control-right" value="ArrowRight" readonly>
                                </div>
                                <div class="control-input">
                                    <label for="join-control-down">Down</label>
                                    <input type="text" id="join-control-down" value="ArrowDown" readonly>
                                </div>
                                <div class="control-input">
                                    <label for="join-control-left">Left</label>
                                    <input type="text" id="join-control-left" value="ArrowLeft" readonly>
                                </div>
                                <div class="control-input md:col-span-2">
                                    <label for="join-control-confirm">Confirm</label>
                                    <input type="text" id="join-control-confirm" value="Enter" readonly>
                                </div>
                            </div>
                            <button type="button" id="join-customize-controls-btn" class="w-full bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-700 hover:to-amber-800 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-200 hover:-translate-y-0.5 hover:shadow-lg">
                                <span class="text-lg mr-2">‚öôÔ∏è</span>
                                Customize Controls
                            </button>
                        </div>
                    </div>
                    <div class="flex gap-4 pt-4">
                        <button type="submit" class="btn-secondary flex-1">
                            <span class="text-lg">üöÄ</span>
                            Join Room
                        </button>
                        <button type="button" class="btn-outline flex-1">
                            <span class="text-lg">‚ùå</span>
                            Cancel
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Waiting Room -->
        <div id="waiting-room" class="max-w-4xl mx-auto mt-8 card p-8 animate-fade-in-up" style="display: none;">
            <div class="text-center mb-8">
                <h3 class="text-3xl font-bold text-white mb-6">Waiting for Players</h3>
                <div class="flex flex-col sm:flex-row items-center justify-center gap-6 p-6 bg-slate-800/50 rounded-xl border border-slate-600">
                    <div class="flex items-center gap-3">
                        <span class="text-slate-300 font-medium">Room Code:</span>
                        <span id="display-room-code" class="room-code">ABCDEF</span>
                        <button id="copy-room-code" class="p-2 bg-slate-700 hover:bg-primary-600 border border-slate-600 hover:border-primary-500 rounded-lg transition-all duration-200 hover:-translate-y-0.5 hover:shadow-lg" title="Copy room code">
                            <span class="text-lg">üìã</span>
                        </button>
                    </div>
                    <div class="flex items-center gap-3">
                        <span class="text-slate-300 font-medium">Players:</span>
                        <span id="player-count" class="px-3 py-1 bg-primary-600 text-white font-bold rounded-full">1/4</span>
                    </div>
                </div>
            </div>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-8" id="players-list">
                <!-- Players will be dynamically added here -->
            </div>
            
            <div class="flex flex-col sm:flex-row gap-4">
                <button id="ready-btn" class="btn-secondary flex-1">
                    <span class="text-lg">‚úÖ</span>
                    Ready
                </button>
                <button id="leave-room-btn" class="btn-danger flex-1">
                    <span class="text-lg">üö™</span>
                    Leave Room
                </button>
            </div>
        </div>

        <!-- Game Section -->
        <section id="numbers" style="display: none;">
            <section id="numbers-head" class="flex flex-wrap justify-between gap-3 p-4 bg-slate-800/80 rounded-xl border border-slate-600 mb-4 shadow-lg">
                <!-- Player scores will be dynamically added here -->
                <div class="flex items-center gap-3 px-4 py-2 bg-slate-700/50 rounded-lg">
                    <span class="text-slate-300 font-medium">Shaka:</span>
                    <span id="current-target" class="text-2xl font-bold text-white bg-gradient-to-r from-primary-500 to-secondary-500 bg-clip-text text-transparent">One</span>
                </div>
            </section>
            <section id="numbers-parent"></section>
            <section class="pause pause-element" id="pause-cover" style="display: none;">
                <div class="up">
                    <h1>P u e </h1>
                </div>
                <div class="down">
                    <h1> a s d</h1>
                </div>
                <div class="flex justify-center gap-4 mt-8">
                    <button id="resume-btn" class="btn-primary">
                        <span class="text-lg">‚ñ∂Ô∏è</span>
                        Resume
                    </button>
                    <button id="exit-game-btn" class="btn-danger">
                        <span class="text-lg">üö™</span>
                        Exit Game
                    </button>
                </div>
            </section>
            <section id="game-over" style="display: none;">
                <h1>Game Over</h1>
                <div class="multiplayer-results" id="multiplayer-results">
                    <!-- Results will be dynamically added here -->
                </div>
                <div class="flex justify-center gap-4 mt-8">
                    <button id="play-again-btn" class="btn-secondary">
                        <span class="text-lg">üîÑ</span>
                        Play Again
                    </button>
                    <button id="return-to-menu-btn" class="btn-outline">
                        <span class="text-lg">üè†</span>
                        Return to Menu
                    </button>
                </div>
            </section>
        </section>
    </div>

    <!-- Toast for notifications -->
    <div id="toast" class="toast"></div>

    <!-- Main multiplayer script -->
    <script type="module" src="/src/multiplayer/main.js"></script>
</body>

</html> 